"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const element_1=__importDefault(require("@heymarco/element")),element_config_1=__importDefault(require("@heymarco/element-config"));class Modal{static setActive(selector){const element=selector?new element_1.default(selector):null;element&&element.length?(element.removeClass("collapse").addClass("expand"),this._activeModal=element,element_1.default.body.addClass(`${Modal.config.varPrefix}-open`)):(this._activeModal&&this._activeModal.removeClass("expand").addClass("collapse"),this._activeModal=null,setTimeout(()=>{element_1.default.body.removeClass(`${Modal.config.varPrefix}-open`)},1e3))}static setInactive(){this.setActive(null)}static triggerClickHandler(event){const selector=new element_1.default(event.target).data(Modal.config.varPrefix);this.setActive(new element_1.default(selector).first())}static clickHandler(event){new element_1.default(event.target).is(Modal.config.class)&&this.overlayClickHandler(event)}static overlayClickHandler(event){this.setActive(null)}}exports.default=Modal,Modal._activeModal=null,Modal._triggerClickHandler=(event=>Modal.triggerClickHandler(event)),Modal._clickHandler=(event=>Modal.clickHandler(event)),Modal.config=new element_config_1.default(".modal","modal",()=>{element_1.default.document.off("click",`[data-${Modal.config.varPrefix}]`,Modal._triggerClickHandler).off("click",Modal.config.class,Modal._clickHandler)},()=>{element_1.default.document.on("click",`[data-${Modal.config.varPrefix}]`,Modal._triggerClickHandler).on("click",Modal.config.class,Modal._clickHandler)},!0);
